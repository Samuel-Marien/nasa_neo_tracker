{% extends 'neo_app/base.html' %}

{% block content %} 
  <section class="container mt-2">
    <div>
      <p>Your search begins on {{ user_start_date }} and covers a period of {{ user_day_coverage }} days, ending on {{ user_end_date_sanityze }}.</p>
    </div>
    {% comment %} <div>
      {% csrf_token %}
      <form action="neo_result">
        <a href="{{ prev_link }}">prev</a>
        <a href="{{ next_link }}">next</a>
      </form>
    </div> {% endcomment %}
  <section>

  <main class="container mt-5">
    <table class="table">
      <thead>
        <tr>
          <th>NEO Id</th>
          <th>Name</th>
          <th>Diameter (mini est./km)</th>
          <th>Diameter (maxi est./km)</th>
          <th>Distance (km)</th>
          <th>Next passage</th>
        </tr>
      </thead>

      <tbody>
      {% for neo in neos_list %}
          <tr>
          <td>{{ neo.id }}</td>
          <td>{{ neo.name }}</td>
          <td>{{ neo.estimated_diameter.kilometers.estimated_diameter_min }}</td>
          <td>{{ neo.estimated_diameter.kilometers.estimated_diameter_max }}</td>
          <td>
          {% for item in neo.close_approach_data %}
            {{ item.miss_distance.kilometers }}
          {% endfor %}
          </td>
          <td>
            {% for item in neo.close_approach_data %} 
              {{ item.close_approach_date }}
            {% endfor %}
        </tr> 
      {% endfor %}
      </tbody>
    </table>
  </main>
  
{% endblock %}